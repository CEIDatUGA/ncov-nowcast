---
title: "Ascertainment rate"
date: "`r format(Sys.time(), '%B %d, %Y')`"
output: html_document
---

<!-- Knit this page third -->

```{r setup, include=FALSE}

library(tidyverse)
library(tibbletime)
library(padr)
library(tvReg)
library(forecast)
library(plotly)
source('R/nowcast.R')

```

The **ascertainment rate** tells us how many infections we don't know about compared with those we do know about. It is the ratio of detected cases to the true number of cases.

We can calculate the ascertainment rate by comparing two methods of nowcasting. 

Firstly, we nowcast from case fatalities (correcting by the infection fatality rate) and consider that this represents the true number of unreported cases.

We then perform a nowcast from case reports without applying any correction for undetected cases. This represents the number of unreported cases at any given time, as if all cases are detected and reported. This will be an underestimate of the true number.

The ratio of the two estimates (nowcasts) on any given day is an estimate of the **ascertainment rate**.

$$\text{ascertainment rate for nowcasting from case reports} = \frac{\text{nowcast from case reports without correction}}{\text{nowcast from fatalities corrected for IFR}}$$

We then apply the mean ascertainment rate to the nowcast from cases to adjust for incomplete case reporting.

<!-- Set params for US -->
```{r params, include=FALSE, message = FALSE, warning = FALSE, cache = FALSE}
params.US <- readRDS('data/params.US.rds')
```



```{r plot, echo = FALSE, message = FALSE, warning = FALSE, cache = FALSE}

plot_ascertainment(params.US$q)


```

### Parameters

**Infection fatality rate** = `r params.US$IFR`

**Symptom-onset-to-reporting interval:**  
Distribution: `r params.US$effective.infectious.period$dist`  
Mean = `r params.US$effective.infectious.period$mean`  
Shape = `r params.US$effective.infectious.period$shape`

**Incubation period:**  
Distribution: `r params.US$incubation.period$dist`  
Mean = `r params.US$incubation.period$mean`  
Shape = `r params.US$incubation.period$shape`

**Symmptom-onset-to-death interval:**  
Distribution; `r params.US$onset.to.death.period$dist`  
Mean = `r params.US$onset.to.death.period$mean`  
Shape = `r params.US$onset.to.death.period$shape`  

